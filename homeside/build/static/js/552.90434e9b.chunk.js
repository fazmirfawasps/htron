"use strict";(self.webpackChunkhomeside=self.webpackChunkhomeside||[]).push([[552],{5552:function(e,n,t){t.d(n,{Z:function(){return _}});var r=t(4165),i=t(1413),o=t(5861),l=t(9439),a=t(5987),s=t(3433),c=t(2791),u=t(4554),d=t(890),h=t(7621),p=t(1889),x=t(2169),m=t(2275),f=t(9369),g=t(22),v=t(1134),Z=t(3329);var j=function(e){var n=e.imgErr,t=(0,v.Gc)(),r=t.getValues,i=t.setValue,o=(0,c.useState)(r("images")),a=(0,l.Z)(o,2),j=a[0],b=a[1];return(0,c.useEffect)((function(){i("images",(0,s.Z)(j))}),[j,i]),(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(u.Z,{component:"div",sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"50vh"},children:[n&&(0,Z.jsx)(d.Z,{children:"6 Images required"}),(0,Z.jsxs)(h.Z,{onDrop:function(e){e.preventDefault();var n=Array.from(e.dataTransfer.files);0!==n.filter((function(e){return e.type.startsWith("image/")})).length?(b([].concat((0,s.Z)(j),n)),i([].concat((0,s.Z)(j),n))):alert("Please drop only image files")},onDragOver:function(e){return e.preventDefault()},sx:{width:"70%",height:200,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",boxShadow:5,borderStyle:"dashed",borderWidth:2,borderColor:"blue",borderRadius:10,margin:"20px"},children:[(0,Z.jsx)("input",{id:"file-input",style:{display:"none"},type:"file",onChange:function(e){var n=Array.from(e.target.files);0!==n.filter((function(e){return e.type.startsWith("image/")})).length?b([].concat((0,s.Z)(j),n)):alert("Please drop only image files")},multiple:!0,accept:"image/*",max:"6"}),(0,Z.jsxs)("label",{htmlFor:"file-input",children:[(0,Z.jsx)(m.Z,{sx:{fontSize:100,color:"blueviolet",cursor:"pointer"}}),(0,Z.jsx)(d.Z,{variant:"h6",textAlign:"center",children:"DROP"}),(0,Z.jsx)(u.Z,{component:"div",sx:{width:100,height:40,bgcolor:"aqua",boxShadow:1,borderRadius:2,textAlign:"center",padding:1,cursor:"pointer"},variant:"contained",children:"upload"})]})]}),(0,Z.jsx)(f.Z,{direction:"row",spacing:2,children:(0,Z.jsx)(p.ZP,{container:!0,children:null===j||void 0===j?void 0:j.map((function(e,n){return(0,Z.jsx)(p.ZP,{item:!0,md:2,children:(0,Z.jsxs)(u.Z,{display:"flex",flexDirection:"column",sx:{maxWidth:"650px",flex:"1 1 0%",margin:"10px",alignItems:"center",position:"relative"},children:[(0,Z.jsx)(g.Z,{sx:{position:"absolute",top:"5px",right:"5px",color:"white",cursor:"pointer"},onClick:function(){return n=e,void b((function(e){return e.filter((function(e){return e!==n}))}));var n}}),(0,Z.jsx)(x.Z,{component:"img",alt:"",src:"string"===typeof e?e:URL.createObjectURL(e),title:"Image",sx:{width:"100%",height:"200px"}})]})},n)}))})})]})})},b=t(3767),y=t(6989),w=t(4925),S=t(8096),k=t(8406),A=t(4387),P=t(3328);var I=function(){var e=(0,v.Gc)(),n=e.control,t=e.formState.errors,r=(0,c.useState)([]),o=(0,l.Z)(r,2),a=o[0],s=o[1];(0,c.useEffect)((function(){(0,P.F0)().then((function(e){var n=e.data;console.log(n),s(n)}))}),[]);var h={PaperProps:{style:{maxHeight:210.5,width:250}}},p=c.useState(""),x=(0,l.Z)(p,2),m=x[0],f=x[1],g=function(e){console.log(e.target.value),f(e.target.value)};return(0,Z.jsxs)(u.Z,{component:"div",sx:{minHeight:"50vh",marginTop:"20px"},children:[(0,Z.jsx)(d.Z,{variant:"h4",m:1,maxWidth:350,ml:5,children:"What kind of vehicle will you host?"}),(0,Z.jsxs)(b.Z,{direction:"column",pl:5,spacing:3,children:[(0,Z.jsxs)(S.Z,{error:Boolean(t.RoomType),fullWidth:!0,children:[(0,Z.jsx)(w.Z,{id:"demo-simple-select-label",children:"VehicleType"}),(0,Z.jsx)(v.Qr,{control:n,name:"vehicleType",rules:{required:!0},render:function(e){var n=e.field;return(0,Z.jsx)(k.Z,(0,i.Z)((0,i.Z)({labelId:"demo-simple-select-label",id:"demo-simple-select",value:m,label:"vehicleType",onChange:g,sx:{maxHeight:80},MenuProps:h},n),{},{children:null===a||void 0===a?void 0:a.map((function(e){return(0,Z.jsx)(A.Z,{value:e.Category,children:(0,Z.jsxs)(b.Z,{direction:"row",spacing:2,children:[(0,Z.jsx)("img",{width:80,src:e.image,alt:"text"}),(0,Z.jsx)(d.Z,{varient:"h4",textAlign:"center",children:"   "+e.Category})]})},e._id)}))}))}}),t.vehicleType&&(0,Z.jsx)(d.Z,{variant:"caption",color:"red",children:"Select an option"})]}),(0,Z.jsx)(v.Qr,{control:n,name:"Price",rules:{required:!0,pattern:/^\d+$/},render:function(e){var n=e.field;return(0,Z.jsx)(y.Z,(0,i.Z)({fullWidth:!0,label:"Price per Day",error:Boolean(t.Price),helperText:t.Price&&"Price is required",id:"fullWidth"},n))}})]})]})},V=t(8232),C=t(4512),T=t(5825),W=t(5193),D=t(347),q=t(5770);var F=function(){var e=(0,v.Gc)(),n=e.control,t=e.formState,a=e.setValue,s=e.getValues,u=t.errors,h=(0,c.useState)(s("Address")),p=(0,l.Z)(h,2),x=p[0],m=p[1],f=(0,c.useState)([]),g=(0,l.Z)(f,2),j=g[0],w=g[1],S=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t,i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!n.target){e.next=16;break}return m(n.target.value),e.prev=2,t="https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(n.target.value,".json?access_token=pk.eyJ1IjoibWhkemFtIiwiYSI6ImNsZnRuOWVlczAyaTIzc25yNm96a3ltenoifQ.MfJmNXS8SqvbICe301UesA&autocomplete=true"),e.next=6,fetch(t);case 6:return i=e.sent,e.next=9,i.json();case 9:o=e.sent,w((null===o||void 0===o?void 0:o.features)||[]),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log("Error fetching data: ",e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(n){return e.apply(this,arguments)}}();return console.log(u),(0,Z.jsxs)(b.Z,{direction:"column",minHeight:"50vh",sx:{"& .MuiTextField-root":{m:2,width:"100%"}},children:[(0,Z.jsx)(d.Z,{variant:"h4",m:2,maxWidth:350,children:"Add short description about your place"}),(0,Z.jsx)(v.Qr,{control:n,name:"PropertyName",rules:{required:!0,pattern:/^[^\s]+(?:$|.*[^\s]+$)/},render:function(e){var n=e.field;return(0,Z.jsx)(y.Z,(0,i.Z)({id:"outlined-basic",label:"Property Name",variant:"outlined",error:Boolean(u.PropertyName),helperText:u.PropertyName&&"Property name is required"},n))}}),(0,Z.jsx)(v.Qr,{control:n,name:"Address",rules:{required:"location required"},render:function(e){var n=e.field,t=e.fieldState.error;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(q.Z,(0,i.Z)((0,i.Z)({id:"combo-box-demo",options:j,inputValue:x},n),{},{onChange:function(e,n){console.log(n),m((null===n||void 0===n?void 0:n.place_name)||""),a("Address",(null===n||void 0===n?void 0:n.place_name)||"")},onInputChange:S,getOptionLabel:function(e){return(null===e||void 0===e?void 0:e.place_name)||""},renderInput:function(e){return(0,Z.jsx)(y.Z,(0,i.Z)((0,i.Z)({},e),{},{label:"Enter location"}))},renderOption:function(e,n){return(0,Z.jsx)("li",(0,i.Z)((0,i.Z)({},e),{},{children:(null===n||void 0===n?void 0:n.place_name)||""}))}})),t&&(0,Z.jsxs)(d.Z,{variant:"caption",sx:{color:"red",textAlign:"left",marginLeft:"40px"},children:[t.message," "]})]})}}),(0,Z.jsx)(v.Qr,{control:n,name:"Description",rules:{required:!0,pattern:/[^\s\\]/},render:function(e){var n=e.field;return(0,Z.jsx)(y.Z,(0,i.Z)({id:"outlined-multiline-static",label:"Description for property",multiline:!0,rows:4,error:Boolean(u.Description),helperText:u.Description&&"Description for property is required"},n))}})]})};var H=function(){var e=(0,v.Gc)(),n=e.control,t=e.formState.errors,r={PaperProps:{style:{maxHeight:210.5,width:250}}};return(0,Z.jsxs)(u.Z,{component:"div",sx:{minHeight:"50vh",marginTop:"20px"},children:[(0,Z.jsx)(d.Z,{variant:"h4",m:1,maxWidth:350,ml:5,children:"What kind of vehicle will you host?"}),(0,Z.jsx)(b.Z,{direction:"column",pl:5,spacing:3,children:(0,Z.jsxs)(S.Z,{error:Boolean(t.Available),fullWidth:!0,children:[(0,Z.jsx)(w.Z,{id:"demo-simple-select-label",children:"Available"}),(0,Z.jsx)(v.Qr,{control:n,name:"Available",rules:{required:!0},render:function(e){var n=e.field;return(0,Z.jsxs)(k.Z,(0,i.Z)((0,i.Z)({labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Available",sx:{maxHeight:80},MenuProps:r},n),{},{children:[(0,Z.jsx)(A.Z,{value:"true",children:"Yes"}),(0,Z.jsx)(A.Z,{value:"false",children:"No"})]}))}}),t.Available&&(0,Z.jsx)(d.Z,{variant:"caption",color:"red",children:"Select an option"})]})})]})},N=t(7689),E=t(9434),R=t(5985),B=t(2062),Q=t.n(B),M=["trigger"];function O(e){var n=e.activeStep,t=e.setValue;switch(console.log(n),n){case 0:return(0,Z.jsx)(I,{setValue:t});case 1:return(0,Z.jsx)(F,{setValue:t});case 2:return(0,Z.jsx)(H,{setValue:t});case 3:return(0,Z.jsx)(j,{setValue:t});case 4:return(0,Z.jsx)(d.Z,{variant:"h3",m:10,textAlign:"center",children:"Form Filled successfully"});default:return""}}function _(e){var n=e.defaultData,t=e.isEdit,s=(0,E.v9)((function(e){return e.user.id}));console.log("checking user id"),console.log(s);var d=(0,v.cI)({defaultValues:n}),h=d.trigger,p=(0,a.Z)(d,M);console.log(n),console.log("what are u"),console.log("what are u");var x=(0,c.useState)(0),m=(0,l.Z)(x,2),f=m[0],g=m[1],j=(0,W.Z)("(min-width:600px)"),y=(0,N.s0)();var w=(0,c.useState)(!1),S=(0,l.Z)(w,2),k=S[0],A=S[1];function I(){return(I=(0,o.Z)((0,r.Z)().mark((function e(i){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(i),console.log("wooo"),!(f<3)){e.next=7;break}console.log("handle next"),console.log("working findForm"),f<=4?g(f+1):console.log("handNext"),e.next=13;break;case 7:return e.next=9,h();case 9:o=e.sent,console.log(o),6!==i.images.length&&(console.log("err image"),A(!0)),o&&6===i.images.length&&(console.log(f),console.log(i),t?(Q()({title:"Are you sure u want edit?",text:"This action cannot be undone!",icon:"warning",buttons:["Cancel","Edit"],dangerMode:!0}).then((function(e){e&&(g(f+1),console.log("working"),console.log(i),console.log("njna urangyalla"),(0,P.MC)(i,n).then((function(){R.Am.success("Edit  succuesfully.",{autoClose:500})})))})).catch((function(e){console.log(e)})),console.log("edit")):(console.log("working add propert"),(0,P.o4)(i,s).then((function(){g(f+1)}))));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,Z.jsxs)(u.Z,{component:"div",sx:{maxWidth:"100%",minHeight:"50vh",marginTop:"10px"},children:[(0,Z.jsx)(Z.Fragment,{children:j?(0,Z.jsx)(V.Z,{activeStep:f,orientation:"horizontal",children:["Vehicle Information","Vehicle Type","Vehicle Availablity","Add Photos","Success"].map((function(e,n){return(0,Z.jsx)(C.Z,{children:(0,Z.jsx)(T.Z,{children:e})},n)}))}):""}),(0,Z.jsxs)(Z.Fragment,{children:[" ",(0,Z.jsx)(v.RV,(0,i.Z)((0,i.Z)({},p),{},{children:(0,Z.jsxs)("form",{onSubmit:p.handleSubmit((function(e){return I.apply(this,arguments)})),children:[(0,Z.jsx)(O,{activeStep:f,setValue:p.setValue,imgErr:k}),(0,Z.jsx)(u.Z,{alignItems:"center",justifyContent:"center",children:f>3&&(0,Z.jsx)(D.Z,{content:"Back To Home",callback:function(){y("/")}})}),f<4&&(0,Z.jsxs)(b.Z,{direction:"row",justifyContent:"space-between",children:[(0,Z.jsx)(D.Z,{variant:"contained",callback:function(){g(f-1)},disable:0===f,content:"Back"}),(0,Z.jsx)(D.Z,{variant:"contained",content:3==f?"Finish":"Next",type:"submit"})]})]})}))]}),(0,Z.jsx)(R.Ix,{})]})}}}]);
//# sourceMappingURL=552.90434e9b.chunk.js.map